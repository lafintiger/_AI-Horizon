{% extends "base.html" %}

{% block title %}Methodology - AI-Horizon{% endblock %}

{% block extra_styles %}
<style>
    .methodology-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    .methodology-header {
        text-align: center;
        margin-bottom: 40px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        border-radius: 10px;
    }
    
    .methodology-section {
        background: white;
        border-radius: 8px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .methodology-section h2 {
        color: #2c3e50;
        border-bottom: 3px solid #3498db;
        padding-bottom: 10px;
        margin-bottom: 20px;
    }
    
    .methodology-section h3 {
        color: #34495e;
        margin-top: 25px;
        margin-bottom: 15px;
    }
    
    .formula-box {
        background: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 5px;
        padding: 15px;
        margin: 15px 0;
        font-family: 'Courier New', monospace;
        overflow-x: auto;
    }
    
    .formula-title {
        font-weight: bold;
        color: #495057;
        margin-bottom: 8px;
    }
    
    .confidence-table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
    }
    
    .confidence-table th,
    .confidence-table td {
        border: 1px solid #dee2e6;
        padding: 8px 12px;
        text-align: left;
    }
    
    .confidence-table th {
        background-color: #f8f9fa;
        font-weight: bold;
    }
    
    .threshold-list {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 5px;
        padding: 15px;
        margin: 15px 0;
    }
    
    .threshold-list h4 {
        margin-top: 0;
        color: #856404;
    }
    
    .warning-box {
        background: #f8d7da;
        border: 1px solid #f5c6cb;
        border-radius: 5px;
        padding: 15px;
        margin: 15px 0;
        color: #721c24;
    }
    
    .data-sources {
        background: #d4edda;
        border: 1px solid #c3e6cb;
        border-radius: 5px;
        padding: 15px;
        margin: 15px 0;
    }
    
    .navigation-links {
        text-align: center;
        margin: 30px 0;
    }
    
    .nav-button {
        display: inline-block;
        padding: 10px 20px;
        margin: 0 10px;
        background: #3498db;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        transition: background 0.3s;
    }
    
    .nav-button:hover {
        background: #2980b9;
    }
</style>
{% endblock %}

{% block content %}
    <div class="methodology-container">
        <div class="methodology-header">
            <h1>üî¨ AI-Horizon Analysis Methodology</h1>
            <p>Understanding the Science Behind Our Intelligence Platform</p>
            <p><em>Transparent, reproducible methods for cybersecurity workforce analysis</em></p>
        </div>

        <div class="navigation-links">
            <a href="/" class="nav-button">üè† Home</a>
            <a href="/analysis" class="nav-button">üìä Analysis</a>
            <a href="/summaries" class="nav-button">üìã Reports</a>
        </div>

        <!-- Quality Analysis Methodology -->
        <div class="methodology-section" id="quality-analysis">
            <h2>üìà Quality Distribution Analysis</h2>
            
            <h3>Overview</h3>
            <p>Our quality analysis system evaluates collected articles using a multi-factor scoring algorithm that considers content depth, source reliability, recency, and relevance to cybersecurity AI topics.</p>
            
            <h3>Quality Score Calculation</h3>
            <div class="formula-box">
                <div class="formula-title">Quality Score Formula:</div>
                <code>
                Quality Score = (Content_Score √ó 0.4) + (Source_Score √ó 0.3) + (Recency_Score √ó 0.2) + (Relevance_Score √ó 0.1)
                <br><br>
                Where:
                <br>‚Ä¢ Content_Score = Length_Factor √ó Structure_Factor √ó Depth_Factor
                <br>‚Ä¢ Source_Score = Domain_Reputation √ó Author_Credibility
                <br>‚Ä¢ Recency_Score = 1.0 - (Days_Since_Publication / 365)
                <br>‚Ä¢ Relevance_Score = AI_Keywords_Count √ó Cybersecurity_Keywords_Count
                </code>
            </div>
            
            <h3>Quality Categories</h3>
            <table class="confidence-table">
                <tr>
                    <th>Score Range</th>
                    <th>Classification</th>
                    <th>Criteria</th>
                </tr>
                <tr>
                    <td>0.8 - 1.0</td>
                    <td>Excellent</td>
                    <td>Comprehensive analysis, authoritative source, recent publication</td>
                </tr>
                <tr>
                    <td>0.6 - 0.79</td>
                    <td>Good</td>
                    <td>Solid content with good insights, reliable source</td>
                </tr>
                <tr>
                    <td>0.4 - 0.59</td>
                    <td>Average</td>
                    <td>Basic information, standard sources</td>
                </tr>
                <tr>
                    <td>0.2 - 0.39</td>
                    <td>Below Average</td>
                    <td>Limited insights, questionable sources</td>
                </tr>
                <tr>
                    <td>0.0 - 0.19</td>
                    <td>Poor</td>
                    <td>Minimal value, unreliable sources</td>
                </tr>
            </table>
        </div>

        <!-- Trend Analysis Methodology -->
        <div class="methodology-section" id="trend-analysis">
            <h2>üìä Comprehensive Trend Analysis</h2>
            
            <h3>Quality Trends</h3>
            <div class="formula-box">
                <div class="formula-title">Quality Improvement Calculation:</div>
                <code>
                Quality_Improvement = Recent_Average - Early_Average
                <br><br>
                Where:
                <br>‚Ä¢ Recent_Average = Mean quality score of last 3 months
                <br>‚Ä¢ Early_Average = Mean quality score of first 3 months
                <br>‚Ä¢ Trend_Direction = "improving" if Quality_Improvement > 0.05
                <br>‚Ä¢ Trend_Direction = "declining" if Quality_Improvement < -0.05
                <br>‚Ä¢ Trend_Direction = "stable" otherwise
                </code>
            </div>
            
            <h3>Topic Evolution Analysis</h3>
            <div class="formula-box">
                <div class="formula-title">Emerging/Declining Term Detection:</div>
                <code>
                Term_Frequency = Term_Count / Total_Articles_Per_Month
                <br>
                Change_Score = Recent_Period_Frequency - Early_Period_Frequency
                <br><br>
                Emerging: Change_Score > 0.01 AND Recent_Frequency > 0.01
                <br>Declining: Change_Score < -0.01 AND Early_Frequency > 0.01
                </code>
            </div>
            
            <h3>Collection Pattern Analysis</h3>
            <div class="formula-box">
                <div class="formula-title">Collection Consistency Score:</div>
                <code>
                Coefficient_of_Variation = Standard_Deviation / Mean_Daily_Collections
                <br>
                Consistency_Score = max(0, 1 - Coefficient_of_Variation)
                <br><br>
                Score Interpretation:
                <br>‚Ä¢ 1.0 = Perfect consistency
                <br>‚Ä¢ 0.8-0.99 = High consistency
                <br>‚Ä¢ 0.6-0.79 = Moderate consistency
                <br>‚Ä¢ < 0.6 = Low consistency
                </code>
            </div>
            
            <h3>Sentiment Analysis</h3>
            <div class="formula-box">
                <div class="formula-title">Keyword-Based Sentiment Classification:</div>
                <code>
                Positive_Count = Œ£(positive_keywords in text)
                <br>Negative_Count = Œ£(negative_keywords in text)
                <br>Neutral_Count = Œ£(neutral_keywords in text)
                <br><br>
                Classification Rules:
                <br>‚Ä¢ "positive" if Positive_Count > Negative_Count AND Positive_Count ‚â• Neutral_Count
                <br>‚Ä¢ "negative" if Negative_Count > Positive_Count AND Negative_Count ‚â• Neutral_Count
                <br>‚Ä¢ "neutral" otherwise
                </code>
            </div>
            
            <div class="threshold-list">
                <h4>‚ö° Analysis Thresholds</h4>
                <ul>
                    <li><strong>Minimum months for trend detection:</strong> 4 months</li>
                    <li><strong>Emergence threshold:</strong> 0.01 frequency change (0.005 for 12+ months)</li>
                    <li><strong>Quality improvement threshold:</strong> ¬±0.05 points</li>
                    <li><strong>Minimum article count for sentiment:</strong> Articles must contain sentiment keywords</li>
                </ul>
            </div>
        </div>

        <!-- Job Market Sentiment Methodology -->
        <div class="methodology-section" id="job-market-sentiment">
            <h2>üéØ Job Market Sentiment Analysis</h2>
            
            <h3>Overall Sentiment Calculation</h3>
            <div class="formula-box">
                <div class="formula-title">Sentiment Score Formula:</div>
                <code>
                Sentiment_Score = (Positive_Signals - Negative_Signals) / Total_Signals
                <br><br>
                Where:
                <br>‚Ä¢ Positive_Signals = Count of positive job-related terms
                <br>‚Ä¢ Negative_Signals = Count of negative job-related terms
                <br>‚Ä¢ Total_Signals = Positive_Signals + Negative_Signals + Neutral_Signals
                <br>‚Ä¢ Score ranges from -1.0 (very negative) to +1.0 (very positive)
                </code>
            </div>
            
            <h3>Opportunity vs. Threat Analysis</h3>
            <div class="formula-box">
                <div class="formula-title">Balance Ratio Calculation:</div>
                <code>
                Balance_Ratio = Total_Opportunities / max(Total_Threats, 1)
                <br><br>
                Narrative Classification:
                <br>‚Ä¢ "opportunity-focused" if Balance_Ratio > 1.2
                <br>‚Ä¢ "threat-focused" if Balance_Ratio < 0.8
                <br>‚Ä¢ "balanced" otherwise
                </code>
            </div>
            
            <h3>Skill Demand Analysis</h3>
            <div class="formula-box">
                <div class="formula-title">Skill Ranking Algorithm:</div>
                <code>
                Skill_Sentiment = (Positive_Context - Negative_Context) / Total_Context_Signals
                <br>
                Overall_Rating = (Skill_Sentiment + 1) √ó Mention_Count
                <br><br>
                Where context is analyzed within ¬±200 characters of skill mention
                </code>
            </div>
            
            <h3>Employer vs. Employee Perspective</h3>
            <div class="formula-box">
                <div class="formula-title">Perspective Detection:</div>
                <code>
                Employer_Signals = Count of employer-related terms
                <br>Employee_Signals = Count of employee-related terms
                <br><br>
                Classification:
                <br>‚Ä¢ "employer" if Employer_Signals > Employee_Signals √ó 1.5
                <br>‚Ä¢ "employee" if Employee_Signals > Employer_Signals √ó 1.5
                <br>‚Ä¢ "mixed" if both present
                </code>
            </div>
            
            <div class="data-sources">
                <h4>üìä Data Sources</h4>
                <p>Job market sentiment is derived from:</p>
                <ul>
                    <li>Industry reports and whitepapers</li>
                    <li>News articles and press releases</li>
                    <li>Academic research publications</li>
                    <li>Government and regulatory documents</li>
                    <li>Professional association publications</li>
                </ul>
            </div>
        </div>

        <!-- AI Adoption Predictions Methodology -->
        <div class="methodology-section" id="ai-adoption-predictions">
            <h2>üöÄ AI Adoption Rate Predictions</h2>
            
            <h3>Predictive Model Overview</h3>
            <p>Our AI adoption prediction system uses machine learning algorithms to analyze temporal patterns in collected data and forecast future adoption trends in cybersecurity workforce transformation.</p>
            
            <h3>Feature Engineering</h3>
            <div class="formula-box">
                <div class="formula-title">Time Series Features:</div>
                <code>
                Features = [
                    monthly_article_count,
                    avg_quality_score,
                    sentiment_distribution,
                    category_distribution,
                    keyword_frequency_trends,
                    source_diversity_index
                ]
                </code>
            </div>
            
            <h3>Adoption Phase Classification</h3>
            <table class="confidence-table">
                <tr>
                    <th>Phase</th>
                    <th>Characteristics</th>
                    <th>Indicators</th>
                </tr>
                <tr>
                    <td>Early Exploration</td>
                    <td>Initial awareness and experimentation</td>
                    <td>Low volume, high uncertainty</td>
                </tr>
                <tr>
                    <td>Early Majority</td>
                    <td>Broader adoption beginning</td>
                    <td>Increasing volume, positive sentiment</td>
                </tr>
                <tr>
                    <td>Late Majority</td>
                    <td>Mainstream adoption</td>
                    <td>High volume, practical focus</td>
                </tr>
                <tr>
                    <td>Maturity</td>
                    <td>Established practices</td>
                    <td>Stable patterns, optimization focus</td>
                </tr>
            </table>
            
            <h3>Transformation Speed Metrics</h3>
            <div class="formula-box">
                <div class="formula-title">Speed Classification:</div>
                <code>
                Speed = Change_Rate / Time_Period
                <br><br>
                Classifications:
                <br>‚Ä¢ "rapid" if Speed > 0.1 per month
                <br>‚Ä¢ "moderate" if 0.05 < Speed ‚â§ 0.1 per month
                <br>‚Ä¢ "gradual" if Speed ‚â§ 0.05 per month
                </code>
            </div>
        </div>

        <!-- Collection Monitoring Methodology -->
        <div class="methodology-section" id="collection-monitoring">
            <h2>üîç Collection Monitoring Dashboard</h2>
            
            <h3>Collection Velocity Tracking</h3>
            <div class="formula-box">
                <div class="formula-title">Velocity Metrics:</div>
                <code>
                Collection_Rate = Articles_Collected / Time_Period_Hours
                <br>
                Peak_Hour_Detection = max(hourly_collection_counts)
                <br>
                Efficiency_Score = Successful_Collections / Total_Attempts
                </code>
            </div>
            
            <h3>Source Health Assessment</h3>
            <div class="formula-box">
                <div class="formula-title">Source Health Score:</div>
                <code>
                Health_Score = (Quality_Score √ó 0.4) + (Reliability_Score √ó 0.3) + (Freshness_Score √ó 0.3)
                <br><br>
                Where:
                <br>‚Ä¢ Quality_Score = Average quality of articles from source
                <br>‚Ä¢ Reliability_Score = Success rate of collections
                <br>‚Ä¢ Freshness_Score = Recency of last successful collection
                </code>
            </div>
            
            <h3>Anomaly Detection</h3>
            <div class="formula-box">
                <div class="formula-title">Anomaly Thresholds:</div>
                <code>
                Quality_Anomaly = |current_quality - rolling_average| > 2 √ó standard_deviation
                <br>
                Volume_Anomaly = |current_volume - expected_volume| > 3 √ó standard_deviation
                <br>
                Source_Issue = consecutive_failures > 3 OR response_time > 30_seconds
                </code>
            </div>
        </div>

        <!-- Category Distribution Methodology -->
        <div class="methodology-section" id="category-distribution">
            <h2>üìä Category Distribution Insights</h2>
            
            <h3>AI Impact Category Classification</h3>
            <p>Articles are classified into four primary AI impact categories using advanced natural language processing:</p>
            
            <div class="formula-box">
                <div class="formula-title">Category Classification Logic:</div>
                <code>
                Categories:
                <br>‚Ä¢ AI_REPLACE: Articles discussing AI replacing human tasks
                <br>‚Ä¢ AI_AUGMENT: Articles about AI enhancing human capabilities
                <br>‚Ä¢ NEW_TASKS: Articles describing new roles created by AI
                <br>‚Ä¢ HUMAN_ONLY: Articles emphasizing tasks requiring human skills
                </code>
            </div>
            
            <h3>Balance Score Calculation</h3>
            <div class="formula-box">
                <div class="formula-title">Distribution Balance:</div>
                <code>
                Balance_Score = 1 - Gini_Coefficient(category_distribution)
                <br><br>
                Where:
                <br>‚Ä¢ Perfect balance (0.25 each) = Score of 1.0
                <br>‚Ä¢ Complete imbalance (100% one category) = Score of 0.0
                <br>‚Ä¢ Higher scores indicate more balanced coverage
                </code>
            </div>
        </div>

        <!-- Confidence and Limitations -->
        <div class="methodology-section" id="confidence-limitations">
            <h2>‚ö†Ô∏è Confidence Levels and Limitations</h2>
            
            <h3>Confidence Assessment</h3>
            <table class="confidence-table">
                <tr>
                    <th>Confidence Level</th>
                    <th>Data Requirements</th>
                    <th>Reliability</th>
                </tr>
                <tr>
                    <td>High</td>
                    <td>6+ months, 100+ articles</td>
                    <td>Results are statistically significant</td>
                </tr>
                <tr>
                    <td>Medium</td>
                    <td>3-5 months, 50+ articles</td>
                    <td>Trends are indicative but may change</td>
                </tr>
                <tr>
                    <td>Low</td>
                    <td>< 3 months, < 50 articles</td>
                    <td>Preliminary insights only</td>
                </tr>
            </table>
            
            <div class="warning-box">
                <h4>‚ö†Ô∏è Important Limitations</h4>
                <ul>
                    <li><strong>Data Bias:</strong> Results reflect available sources and may not represent all perspectives</li>
                    <li><strong>Temporal Sensitivity:</strong> Analysis is based on historical data and may not predict future changes</li>
                    <li><strong>Keyword Limitations:</strong> Sentiment analysis is keyword-based and may miss nuanced context</li>
                    <li><strong>Sample Size:</strong> Small datasets may produce unreliable results</li>
                    <li><strong>Source Quality:</strong> Analysis quality depends on the quality of collected sources</li>
                </ul>
            </div>
            
            <h3>Best Practices for Interpretation</h3>
            <ul>
                <li>Always consider confidence levels when interpreting results</li>
                <li>Look for consistent patterns across multiple analysis types</li>
                <li>Combine quantitative results with qualitative assessment</li>
                <li>Regular re-analysis as new data becomes available</li>
                <li>Cross-reference with external industry reports</li>
            </ul>
        </div>

        <!-- Technical Implementation -->
        <div class="methodology-section" id="technical-implementation">
            <h2>üîß Technical Implementation</h2>
            
            <h3>Data Processing Pipeline</h3>
            <ol>
                <li><strong>Collection:</strong> Automated gathering from configured sources</li>
                <li><strong>Preprocessing:</strong> Text cleaning, normalization, metadata extraction</li>
                <li><strong>Classification:</strong> AI impact category assignment using NLP</li>
                <li><strong>Quality Scoring:</strong> Multi-factor quality assessment</li>
                <li><strong>Analysis:</strong> Statistical and machine learning analysis</li>
                <li><strong>Reporting:</strong> Automated report generation with confidence metrics</li>
            </ol>
            
            <h3>Quality Assurance</h3>
            <ul>
                <li>Automated validation of analysis results</li>
                <li>Statistical significance testing</li>
                <li>Cross-validation of machine learning models</li>
                <li>Regular methodology review and updates</li>
            </ul>
            
            <h3>Update Frequency</h3>
            <ul>
                <li><strong>Real-time:</strong> Collection monitoring and health metrics</li>
                <li><strong>Daily:</strong> Quality scores and basic statistics</li>
                <li><strong>Weekly:</strong> Trend analysis and sentiment tracking</li>
                <li><strong>Monthly:</strong> Comprehensive predictive analysis and reports</li>
            </ul>
        </div>

        <div class="navigation-links">
            <a href="/" class="nav-button">üè† Return Home</a>
            <a href="/analysis" class="nav-button">üìä Run Analysis</a>
            <a href="/summaries" class="nav-button">üìã View Reports</a>
        </div>
        
        <div style="text-align: center; margin-top: 40px; color: #7f8c8d;">
            <p><em>AI-Horizon Methodology Documentation v2.0</em></p>
            <p>Last Updated: {{ current_date }}</p>
        </div>
    </div>
{% endblock %}
